<%- layout('layouts/boilerplate') -%>

<div class="row justify-content-center my-5">
  <div class="col-lg-6 col-md-8 col-sm-10">
    <div class="card shadow-sm p-4">
      
      <!-- Heading -->
      <h2 class="text-center mb-4 create-heading">
        <i class="fa-solid fa-plus-circle me-2"></i> Create New Listing <br>
      </h2>

      <form method="POST" action="/listings" class="needs-validation" novalidate>
        <!-- Title -->
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="title" placeholder="Enter title" name="Listing[title]" required>
          <label for="title"><i class="fa-solid fa-heading me-1"></i> Title</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a title.
          </div>
        </div>

        <!-- Description -->
        <div class="form-floating mb-3">
          <textarea class="form-control" id="description" placeholder="Enter description" name="Listing[description]" rows="4" required></textarea>
          <label for="description"><i class="fa-solid fa-align-left me-1"></i> Description</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a description.
          </div>
        </div>

        <!-- Image URL -->
        <div class="form-floating mb-3">
          <input type="url" class="form-control" id="image" placeholder="Enter Image URL" name="Listing[image][url]">
          <label for="image"><i class="fa-solid fa-image me-1"></i> Image URL</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a valid URL.
          </div>
        </div>

        <!-- Price -->
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="price" placeholder="Enter price" name="Listing[price]" required>
          <label for="price"><i class="fa-solid fa-indian-rupee-sign me-1"></i> Price</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a price.
          </div>
        </div>

        <!-- Location -->
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="location" placeholder="Enter location" name="Listing[location]" required>
          <label for="location"><i class="fa-solid fa-location-dot me-1"></i> Location</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a location.
          </div>
        </div>

        <!-- Country -->
        <div class="form-floating mb-4">
          <input type="text" class="form-control" id="country" placeholder="Enter country" name="Listing[country]" required>
          <label for="country"><i class="fa-solid fa-flag me-1"></i> Country</label>
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter a country.
          </div>
        </div>

        <button type="submit" class="btn btn-pink w-100 btn-lg shadow-sm">Submit</button>
      </form>
    </div>
  </div>
</div>

<script>
// Bootstrap client-side validation
(() => {
  'use strict'
  const forms = document.querySelectorAll('.needs-validation')
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }
      form.classList.add('was-validated')
    }, false)
  })
})()
</script>

<style>
/* Create New Listing heading style */
.create-heading {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(90deg, #FF385C, #FF7F99);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    position: relative;
}

.create-heading::after {
    content: '';
    display: block;
    width: 60px;
    height: 3px;
    background-color: #FF385C;
    margin: 8px auto 0;
    border-radius: 2px;
}

/* Pink Airbnb theme button */
.btn-pink {
    background-color: #FF385C;
    color: #fff;
    border: none;
    transition: all 0.3s ease;
}

.btn-pink:hover {
    background-color: #e0314b;
    transform: translateY(-2px);
}

/* Card styling */
.card {
    border-radius: 15px;
    background-color: #fff;
}

/* Floating labels focus */
.form-floating>.form-control:focus {
    border-color: #FF385C;
    box-shadow: 0 0 0 0.2rem rgba(255, 56, 92, 0.25);
}
</style>
